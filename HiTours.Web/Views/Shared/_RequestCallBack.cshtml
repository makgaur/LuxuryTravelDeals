@model RequestCallBackViewModel
<div class="modal fade" id="myModalrequestcallback" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Request a callback</h4>
            </div>
            <div class="modal-body">
                <p class="fill-text">Please fill out the form below and we will call you back</p>
                @*<form asp-controller="home" asp-action="requestcallback" asp-antiforgery="true" method="post" enctype="multipart/form-data" id="frmRequstCallBack">*@
                <form id="frmTalkExpert3" action='https://crm.zoho.com/crm/WebToLeadForm' name=WebToLeads2951943000000505001s method='POST' onSubmit='javascript:document.charset="UTF-8"; return checkMandatory1()' accept-charset='UTF-8'>
                    <!-- Do not remove this code. -->
                    <input type='text' style='display:none;' name='xnQsjsdp' value='b81b0a9bd05df24e119e2cbfd8701905841260953794e923e7a3883a8f0c75bb' />
                    <input type='hidden' name='zc_gad' id='zc_gad' value='' />
                    <input type='text' style='display:none;' name='xmIwtLD' value='877c0b66da7493104c834b7d71fa26298443b704fca78de91585eabccb4a548a' />
                    <input type='text' style='display:none;' name='actionType' value='TGVhZHM=' />

                    <input type='text' style='display:none;' name='returnURL' value='https://www.luxurytravel.deals/home/thankyou' />
                    <!-- Do not remove this code. -->

                    <input id="requestPageUrl" type="hidden" asp-for="PageUrl" />
                    <div class="form-group">
                        <label asp-for="Name"></label>
                        @*<input type="text" asp-for="Name" class="form-control" />*@
                        <input type="text" name="Last Name" id="Name" class="form-control capitalize" />
                        <span asp-validation-for="Name"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="Mobile"></label>
                        <input type="tel" asp-for="Mobile" class="form-control numericOnly" />
                        <span asp-validation-for="Mobile"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Email"></label>
                        <input type="email" asp-for="Email" class="form-control" />
                        <span asp-validation-for="Email"></span>
                    </div>

                    <div class="form-group">
                        <label for="pwd">Best time to call</label>

                        <div class="radio">
                            <label class="skip-required"><input asp-for="@Model.BestTimeToCall" type="radio" name="LEADCF27" value="@Enums.BestTimeToCall.Any">@Enums.BestTimeToCall.Any.ToDisplayName()</label>
                        </div>
                        <div class="radio">
                            <label class="skip-required"><input asp-for="@Model.BestTimeToCall" type="radio" name="LEADCF27" value="@Enums.BestTimeToCall.Morning">@Enums.BestTimeToCall.Morning.ToDisplayName()</label>
                        </div>
                        <div class="radio">
                            <label class="skip-required"><input asp-for="@Model.BestTimeToCall" type="radio" name="LEADCF27" value="@Enums.BestTimeToCall.Afternoon">@Enums.BestTimeToCall.Afternoon.ToDisplayName()</label>
                        </div>

                        <div class="radio">
                            <label class="skip-required"><input asp-for="@Model.BestTimeToCall" type="radio" name="LEADCF27" value="@Enums.BestTimeToCall.Evening">@Enums.BestTimeToCall.Evening.ToDisplayName()</label>
                        </div>
                    </div>
                    <div style='display:none;'>
                        <div style='nowrap:nowrap;text-align:left;font-size:12px;font-family:Arial;width:50%'>IP</div>
                        <div style='width:250px;'>
                            <input type='text' style='width:250px;' maxlength='255' name='LEADCF22' value='true' />
                        </div>
                    </div>

                    <div style='display:none;'>
                        <div style='wrap:nowrap;text-align:left;font-size:12px;font-family:Arial;width:50%'>Lead Status</div>
                        <div style='width:250px;'>

                            <select style='width:250px;' name='Lead Status'>

                                <option value='-None-'>-None-</option>

                                <option value='Open'>Open</option>

                                <option value='Callback'>Callback</option>

                                <option value='Contacted'>Contacted</option>

                                <option value='CNP'>CNP</option>

                                <option value='Not Qualified'>Not Qualified</option>

                                <option selected value='Not Contacted'>Not Contacted</option>

                                <option value='Lost Lead'>Lost Lead</option>

                            </select>
                        </div>
                    </div>



                    <div style='display:none;'>
                        <div style='nowrap:nowrap;text-align:left;font-size:12px;font-family:Arial;width:50%'>Destination</div>
                        <div style='width:250px;'>
                            <input type='text' style='width:250px;' maxlength='1005' id="LEADCF21" name='LEADCF21' value='@Model.PageUrl' />
                        </div>
                    </div>



                    <div style='display:none;'>
                        <div style='nowrap:nowrap;text-align:left;font-size:12px;font-family:Arial;width:50%'>Lead Source</div>
                        <div style='width:250px;'>

                            <select style='width:250px;' name='Lead Source'>

                                <option value='-None-'>-None-</option>

                                <option selected value='Website'>Website</option>

                                <option value='Google'>Google</option>

                                <option value='Facebook'>Facebook</option>

                                <option value='LinkedIn'>LinkedIn</option>

                                <option value='Walkin'>Walkin</option>

                                <option value='Referral'>Referral</option>

                                <option value='Newspaper'>Newspaper</option>

                                <option value='Travel&#x20;Agency'>Travel Agency</option>

                                <option value='Google&#x20;AdWords'>Google AdWords</option>

                            </select>
                        </div>
                    </div>



                    <div style='display:none;'>
                        <div style='nowrap:nowrap;text-align:left;font-size:12px;font-family:Arial;width:50%'>Web Source</div>
                        <div style='width:250px;'>

                            <select style='width:250px;' name='LEADCF8'>

                                <option value='-None-'>-None-</option>

                                <option selected value='luxurytravel.deals'>luxurytravel.deals</option>

                                <option value='hi.tours'>hi.tours</option>

                                <option value='hitours.in'>hitours.in</option>

                                <option value='hi-tours.com'>hi-tours.com</option>

                                <option value='hi-tours.es'>hi-tours.es</option>

                                <option value='hi-tours.de'>hi-tours.de</option>

                                <option value='hi-tours.fr'>hi-tours.fr</option>

                                <option value='hi-tours.it'>hi-tours.it</option>

                                <option value='hi-tours.nl'>hi-tours.nl</option>

                                <option value='hi-tours.pt'>hi-tours.pt</option>

                                <option value='hi-tours.ru'>hi-tours.ru</option>

                                <option value='hi-tours.cn'>hi-tours.cn</option>

                                <option value='hi-tours.ae'>hi-tours.ae</option>

                            </select>
                        </div>

                    </div>
                    <div class="callbtn">
                        <button type="submit" class="btn btn-default">Call me</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    $('[data-dismiss="modal"]').on("click", function () {
        if ($("#frmRequstCallBack").length > 0) {
            $("#frmRequstCallBack")[0].reset()
            $(".field-validation-valid span").each(function () {
                $(this).remove()
            })
        }
        
    })
</script>

<script>
    var mndFileds = new Array('Name', 'Last Name', 'Mobile', 'Email');
    var fldLangVal = new Array('First Name', 'Last Name', 'Mobile Number', 'Email Id');
    var name = '';
    var email = '';

    function checkMandatory1() {
        for (i = 0; i < mndFileds.length; i++) {
            var fieldObj = document.forms['WebToLeads2951943000000505001s'][mndFileds[i]];
            if (fieldObj) {
                if (((fieldObj.value).replace(/^\s+|\s+$/g, '')).length == 0) {
                    if (fieldObj.type == 'file') {
                        //alert('Please select a file to upload.');
                        fieldObj.focus();
                        return false;
                    }
                    //alert(fldLangVal[i] + ' cannot be empty.');
                    fieldObj.focus();
                    return false;
                } else if (fieldObj.nodeName == 'SELECT') {
                    if (fieldObj.options[fieldObj.selectedIndex].value == '-None-') {
                        //alert(fldLangVal[i] + ' cannot be none.');
                        fieldObj.focus();
                        return false;
                    }
                } else if (fieldObj.type == 'checkbox') {
                    if (fieldObj.checked == false) {
                        //alert('Please accept  ' + fldLangVal[i]);
                        fieldObj.focus();
                        return false;
                    }
                }
                try {
                    if (fieldObj.name == 'Last Name') {
                        name = fieldObj.value;
                    }
                } catch (e) { }
            }
        }
        smartech('create', 'ADGMOT35CHFLVDHBJNIG50K969M2CP4N22UB4JPT4SRLRK91B7CG');

        var formData = {

            'pk^email': $("#frmTalkExpert3 #Email").val(),

            'mobile': $("#frmTalkExpert3 #Phone").val(),

            'Last Name': $("#frmTalkExpert3 #Name").val(),

            'BEST_TIME_TO_CALL': $("#BestTimeToCall:checked").val(),

            'LEADSCORE': 10

        };
        var url = new URL($("#requestPageUrl").val());
        var pathName = url.pathname.split('/');
        if (pathName[1] != null && pathName[1].toLowerCase() == "package" && pathName[2].toLowerCase() == "details") {
            formData["Package Name"] = $("#hPackageName").html();
            formData["URL"] = url.href;

        }

        smartech('contact', 74, formData);
        smartech('dispatch', 74, formData);
        //url = window.location.href + "?ThankYoupopup";

    }


</script>